import{aq as s,ar as a,as as n,C as q}from"./index.7d30eca8.js";import{d as z,f as I}from"./downloadPdf.2aeda141.js";const m="/desarrollada";var R={async obtenerDesarrolladas(t,r){try{let e=await s.get(m+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarDesarrollada(t,r){try{let e=await s.delete(m+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editarDesarrollada(t,r,e){try{let o=await s.put(m+`/${t}`,{actividadDesarrollada:r},a.headers());return e?e(o):o}catch(o){return e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}},async crearDesarrollada(t,r){try{let e=await s.post(m,{actividadDesarrollada:t},a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}}};const c="/evidencia";var G={async obtenerEvidencias(t,r){try{let e=await s.get(c+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarEvidencia(t,r){try{let e=await s.delete(c+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editarEvidencia(t,r,e){try{let o=await s.put(c+`/${t}`,{evidencia:r},a.headers());return e?e(o):o}catch(o){return e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}},async crearEvidencia(t,r){try{let e=await s.post(c,{evidencia:t},a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}}};const w="/observacion";var J={async obtenerObservaciones(t,r){try{let e=await s.get(w+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarObservacion(t,r){try{let e=await s.delete(w+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editarObservacion(t,r,e){try{let o=await s.put(w+`/${t}`,{observacion:r},a.headers());return e?e(o):o}catch(o){return e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}},async crearObservacion(t,r){try{let e=await s.post(w,{observacion:t},a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}}};const D="/informe";var K={async obtenerInformePeriodo(t,r){try{let e=await s.get(D+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async obtenerTodosInformes(t){try{let r=await s.get(D,a.headers());return t?t(r):r}catch(r){return t?t(n.obtenerMensajeError(r)):n.obtenerMensajeError(r)}},async asignarFormato(t,r,e){try{let o=await s.post(D+`/${t}/${r}`,{},a.headers());return e?e(o):o}catch(o){return e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}}};const b="/conclusionrecomendacion";var L={async obtenerPorInforme(t,r){try{let e=await s.get(b+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async crear(t,r){try{let e=await s.post(b,t,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminar(t,r){try{let e=await s.delete(b+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async editar(t,r,e){try{let o=await s.put(b+`/${t}`,r,a.headers());return e?e(o):o}catch(o){return e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}}},U={async generarPDF(t=null,r,e,o=null){async function y(u){try{const h=await G.obtenerEvidencias(u),j=await R.obtenerDesarrolladas(u),M=await J.obtenerObservaciones(u);return{evidencias:h.data.evidencias,observaciones:M.data.observaciones,desarrolladas:j.data.actividadesDesarrolladas}}catch{}}async function S(){try{return(await I.obtenerInformeActivo()).data}catch{}}async function l(u){try{return(await I.obtenerPorId(u)).data}catch{}}async function O(){try{const h={Authorization:`Bearer ${q().token}`};return(await s.get("docente/one",{headers:h})).data.docente}catch{}}async function F(u,h){let j=[],M=0;for(let d=0;d<u.length;d++)for(let P=0;P<u[d].actividadesEspecificas.length;P++){const v=u[d].actividadesEspecificas[P],f=await y(v._id);let T="",x=[],C=[];for(let i=0;i<f.evidencias.length;i++)i!=0&&(T+=`

`),T+="\u2022 "+f.evidencias[i].nombre;for(let i=0;i<f.desarrolladas.length;i++)i!=0&&(x+=`

`),x+="\u2022 "+f.desarrolladas[i].nombre;for(let i=0;i<f.observaciones.length;i++)f.observaciones[i].enlace?C.push({text:f.observaciones[i].nombre+`

`,link:f.observaciones[i].enlace}):C.push({text:f.observaciones[i].nombre+`

`});j.push([{texto:u[d].nombre,estilo:"bodyTable",rowSpan:u[d].actividadesEspecificas.length},{texto:v.nombre,estilo:"bodyTable"},{texto:v.horas.toString(),estilo:"bodyTable"},{texto:x,estilo:["bodyTable",{alignment:"left"}]},{texto:T,estilo:["bodyTable",{alignment:"left"}]},{texto:C,estilo:["bodyTable",{alignment:"left"}]}]),M+=v.horas}const g=await L.obtenerPorInforme(h);let A="";for(let d=0;d<g.data.length;d++)d!=0&&(A+=`

`),A+=`\u2022 ${g.data[d].nombre}`;return{body:j,horas:M,textConclusion:A}}let E=null;o==null?(E=await S(),await K.asignarFormato(t,E._id)):E=await l(o);let $=await O(),{body:H,horas:B,textConclusion:_}=await F(r,t);H.push([{colSpan:3,texto:E.conclusiones,estilo:["headerTable",{color:"black"}]},"","",{colSpan:3,texto:_,estilo:["bodyTable",{alignment:"justify"}]},"",""]),$.horas=B,$.periodo=e,z.formatoPdf(E,H,$)}};const p="/especifica";var V={async obtenerActividadesPorInforme(t,r){try{let e=await s.get(p+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async eliminarActividad(t,r){try{let e=await s.delete(p+`/${t}`,a.headers());return r?r(e):e}catch(e){return r?r(n.obtenerMensajeError(e)):n.obtenerMensajeError(e)}},async crearActividad(t,r,e,o){try{let y=await s.post(p+`/${t}/${r}`,{actividad:e},a.headers());return o?o(y):y}catch(y){return o?o(n.obtenerMensajeError(y)):n.obtenerMensajeError(y)}},async editarActividad(t,r,e){try{let o=await s.patch(p+`/${t}`,{actividad:r},a.headers());return e?e(o):o}catch(o){return e?e(n.obtenerMensajeError(o)):n.obtenerMensajeError(o)}}};export{G as a,L as c,R as d,V as e,U as g,K as i,J as o};
